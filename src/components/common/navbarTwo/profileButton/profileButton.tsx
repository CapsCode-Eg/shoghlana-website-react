import { useEffect, useRef, useState } from 'react';
import { toast } from 'sonner';
import axiosInstance from '../../../../utils/axiosInstance';
import { Link } from 'react-router';
import Logo from '../../../logo/logo';
import { useSelector } from 'react-redux';
import { RootState } from '../../../../utils/redux/store';

export default function ProfileButton() {
    const [isOpen, setIsOpen] = useState(false);
    const User = useSelector((state: RootState) => state.UserData.user)
    const dropdownRef = useRef<HTMLDivElement>(null);

    const handleClickOutside = (event: MouseEvent) => {
        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {
            setIsOpen(false);
        }
    };
    const [isCompany, setIsCompany] = useState(false);
    useEffect(() => {
        if (window.localStorage.getItem('user')) {
            const user = JSON.parse(window.localStorage.getItem('user') || '{}');
            setIsCompany(user?.type === 'company');
        }
    }, [])
    useEffect(() => {
        document.addEventListener('mousedown', handleClickOutside);
        return () => {
            document.removeEventListener('mousedown', handleClickOutside);
        };
    }, []);
    const handleLogout = async () => {
        axiosInstance.post('/logout').then(() => {
            toast.success('Logout successful');
            window.location.href = '/';
            window.localStorage.clear();
        }).catch((error) => {
            toast.error(error?.response?.data?.message, { id: 'add-country' })
            toast.error('Logout failed');
        })
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const [userData, setUserData] = useState<any>({});
    useEffect(() => {
        const user = window.localStorage.getItem("user");
        if (user) {
            setUserData(JSON.parse(user));
        }
    }, [])
    return (
        <div className="relative inline-block text-left" ref={dropdownRef}>
            <div
                className="flex items-center text-white relative cursor-pointer rounded-full bg-main ps-1 pe-2.5 py-1"
                onClick={() => setIsOpen(!isOpen)}
            >
                {userData?.image ? <img
                    src={userData?.image ? User?.image || userData?.image : ''}
                    alt="Profile"
                    width={40}
                    height={40}
                    className="rounded-full z-5 w-[45px] h-[45px] object-cover flex-1 flex-shrink-0"
                /> :
                    <Logo isDisabled={true} />}
                <div className="ml-3 flex-1 z-5 hidden lg:block">
                    <p className="font-bold text-[13px]">{userData?.name || userData?.first_name || 'Loading...'}</p>
                    <p className="text-[10px] ">{userData?.email || 'Loading...'}</p>
                </div>
                <svg className={`ms-8 z-5 transition-transform ${isOpen ? 'rotate-180' : ''}`} width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" clipRule="evenodd" d="M8.82716 12.2803C8.9678 12.4209 9.15854 12.4999 9.35741 12.4999C9.55628 12.4999 9.74701 12.4209 9.88766 12.2803L14.1304 8.03751C14.202 7.96833 14.2592 7.88557 14.2985 7.79407C14.3378 7.70256 14.3585 7.60415 14.3593 7.50456C14.3602 7.40498 14.3412 7.30622 14.3035 7.21405C14.2658 7.12188 14.2101 7.03814 14.1397 6.96772C14.0693 6.8973 13.9855 6.84161 13.8934 6.8039C13.8012 6.76619 13.7024 6.74721 13.6029 6.74808C13.5033 6.74894 13.4049 6.76963 13.3134 6.80894C13.2219 6.84824 13.1391 6.90538 13.0699 6.97701L9.35741 10.6895L5.64491 6.97701C5.50346 6.84039 5.31401 6.7648 5.11736 6.76651C4.92071 6.76822 4.7326 6.84709 4.59354 6.98615C4.45449 7.1252 4.37561 7.31331 4.3739 7.50996C4.37219 7.70661 4.44779 7.89606 4.58441 8.03751L8.82716 12.2803Z" fill="white" />
                </svg>
                <svg className='absolute top-0 left-0 object-cover w-full h-full' width="211" height="42" viewBox="0 0 211 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clipPath="url(#clip0_681_3284)">
                        <rect width="211" height="42" rx="21" transform="matrix(-1 0 0 1 211 0)" fill="#0055D9" />
                        <path opacity="0.21" d="M89.7485 412.926C123.421 378.808 142.991 398.122 176.664 364.004C210.336 329.886 190.766 310.572 224.429 276.464C258.092 242.355 277.672 261.66 311.344 227.542C345.017 193.424 325.447 174.109 359.119 139.991C392.792 105.873 412.362 125.188 446.044 91.0602C479.726 56.9324 460.146 37.6276 493.819 3.50964M-293.043 28.833C-259.371 -5.28505 -239.801 14.0295 -206.128 -20.0885C-172.456 -54.2065 -192.026 -73.5211 -158.363 -107.629C-124.7 -141.737 -105.12 -122.433 -71.4477 -156.551C-37.7752 -190.669 -57.3453 -209.983 -23.6728 -244.101C9.99973 -278.219 29.5698 -258.905 63.252 -293.033C96.9343 -327.16 77.3545 -346.465 111.027 -380.583M-48.4539 269.465C-14.7813 235.347 4.78874 254.662 38.4613 220.544C72.1338 186.426 52.5637 167.111 86.2266 133.003C119.889 98.8948 139.469 118.2 173.142 84.0816C206.814 49.9636 187.244 30.649 220.917 -3.46902C254.589 -37.587 274.159 -18.2725 307.842 -52.4003C341.524 -86.5281 321.944 -105.833 355.617 -139.951M-172.589 147.113C-138.917 112.995 -119.347 132.309 -85.6741 98.1914C-52.0016 64.0734 -71.5717 44.7588 -37.9088 10.6506C-4.24599 -23.4576 15.3338 -4.15285 49.0063 -38.2709C82.6789 -72.3889 63.1087 -91.7034 96.7813 -125.821C130.454 -159.939 150.024 -140.625 183.706 -174.753C217.388 -208.881 197.809 -228.185 231.481 -262.303M71.5135 391.354C105.186 357.236 124.756 376.551 158.429 342.433C192.101 308.315 172.531 289 206.194 254.892C239.857 220.784 259.437 240.089 293.109 205.971C326.782 171.853 307.212 152.538 340.884 118.42C374.557 84.3021 394.127 103.617 427.809 69.4889C461.491 35.361 441.911 16.0563 475.584 -18.0617M-233.852 91.8211C-200.179 57.7031 -180.609 77.0177 -146.936 42.8997C-113.264 8.78165 -132.834 -10.5329 -99.1711 -44.6411C-65.5083 -78.7493 -45.9285 -59.4446 -12.256 -93.5626C21.4166 -127.681 1.84645 -146.995 35.519 -181.113C69.1915 -215.231 88.7616 -195.917 122.444 -230.044C156.126 -264.172 136.546 -283.477 170.219 -317.595M10.2512 332.048C43.9238 297.93 63.4939 317.244 97.1664 283.126C130.839 249.008 111.269 229.694 144.932 195.586C178.595 161.477 198.174 180.782 231.847 146.664C265.519 112.546 245.949 93.2316 279.622 59.1136C313.294 24.9956 332.864 44.3101 366.547 10.1823C400.229 -23.9455 380.649 -43.2503 414.322 -77.3683M-113.398 210.101C-79.7251 175.983 -60.155 195.298 -26.4825 161.18C7.19005 127.062 -12.38 107.747 21.2828 73.6387C54.9456 39.5305 74.5254 58.8353 108.198 24.7173C141.87 -9.40073 122.3 -28.7153 155.973 -62.8333C189.645 -96.9513 209.216 -77.6367 242.898 -111.765C276.58 -145.892 257 -165.197 290.673 -199.315M130.705 454.343C164.378 420.225 183.948 439.539 217.62 405.421C251.293 371.303 231.723 351.989 265.386 317.88C299.049 283.772 318.628 303.077 352.301 268.959C385.973 234.841 366.403 215.526 400.076 181.408C433.748 147.29 453.319 166.605 487.001 132.477C520.683 98.3492 501.103 79.0445 534.776 44.9265M-301.225 17.6793C-267.553 -16.4387 -247.983 2.87584 -214.31 -31.2422C-180.638 -65.3602 -200.208 -84.6748 -166.545 -118.783C-132.882 -152.891 -113.302 -133.586 -79.6297 -167.704C-45.9572 -201.822 -65.5273 -221.137 -31.8547 -255.255C1.81779 -289.373 21.3879 -270.058 55.0701 -304.186C88.7523 -338.314 69.1725 -357.619 102.845 -391.737M-56.6355 258.312C-22.963 224.193 -3.39291 243.508 30.2796 209.39C63.9522 175.272 44.3821 155.957 78.0449 121.849C111.708 87.7411 131.288 107.046 164.96 72.9279C198.633 38.8098 179.062 19.4953 212.735 -14.6227C246.408 -48.7407 265.978 -29.4262 299.66 -63.554C333.342 -97.6818 313.762 -116.987 347.435 -151.105M-180.771 135.959C-147.099 101.841 -127.529 121.156 -93.8561 87.0377C-60.1835 52.9197 -79.7536 33.6051 -46.0908 -0.503127C-12.4279 -34.6113 7.15185 -15.3066 40.8244 -49.4246C74.4969 -83.5426 54.9268 -102.857 88.5993 -136.975C122.272 -171.093 141.842 -151.779 175.524 -185.906C209.206 -220.034 189.627 -239.339 223.299 -273.457M63.3319 380.201C97.0044 346.083 116.575 365.397 150.247 331.279C183.92 297.161 164.35 277.847 198.012 243.739C231.675 209.63 251.255 228.935 284.928 194.817C318.6 160.699 299.03 141.385 332.702 107.267C366.375 73.1485 385.945 92.4631 419.627 58.3353C453.31 24.2074 433.73 4.90269 467.402 -29.2153M-242.034 80.6674C-208.361 46.5494 -188.791 65.864 -155.118 31.7459C-121.446 -2.37206 -141.016 -21.6866 -107.353 -55.7948C-73.6902 -89.903 -54.1104 -70.5983 -20.4379 -104.716C13.2346 -138.834 -6.33549 -158.149 27.337 -192.267C61.0096 -226.385 80.5797 -207.07 114.262 -241.198C147.944 -275.326 128.364 -294.631 162.037 -328.749M2.06944 320.894C35.742 286.776 55.3121 306.091 88.9846 271.973C122.657 237.855 103.087 218.54 136.75 184.432C170.413 150.324 189.993 169.628 223.665 135.51C257.338 101.392 237.767 82.0779 271.44 47.9598C305.113 13.8418 324.683 33.1564 358.365 -0.971433C392.047 -35.0993 372.467 -54.404 406.14 -88.522M-121.579 198.947C-87.9069 164.829 -68.3368 184.144 -34.6643 150.026C-0.991748 115.908 -20.5618 96.5932 13.101 62.485C46.7638 28.3768 66.3436 47.6816 100.016 13.5636C133.689 -20.5544 114.119 -39.869 147.791 -73.987C181.464 -108.105 201.034 -88.7904 234.716 -122.918C268.398 -157.046 248.818 -176.351 282.491 -210.469M122.524 443.189C156.196 409.071 175.766 428.386 209.439 394.268C243.111 360.15 223.541 340.835 257.204 306.727C290.867 272.619 310.447 291.923 344.119 257.805C377.792 223.687 358.222 204.373 391.894 170.255C425.567 136.137 445.137 155.451 478.819 121.323C512.501 87.1956 492.921 67.8909 526.594 33.7729M-324.215 -2.92655C-290.542 -37.0446 -270.972 -17.73 -237.3 -51.848C-203.627 -85.966 -223.197 -105.281 -189.535 -139.389C-155.872 -173.497 -136.292 -154.192 -102.619 -188.31C-68.9469 -222.428 -88.517 -241.743 -54.8445 -275.861C-21.1719 -309.979 -1.60184 -290.664 32.0804 -324.792C65.7626 -358.92 46.1828 -378.225 79.8554 -412.343M-79.6254 237.706C-45.9529 203.588 -26.3828 222.902 7.28975 188.784C40.9623 154.666 21.3922 135.352 55.055 101.243C88.7179 67.1352 108.298 86.44 141.97 52.322C175.643 18.204 156.073 -1.11058 189.745 -35.2286C223.418 -69.3466 242.988 -50.032 276.67 -84.1599C310.352 -118.288 290.772 -137.592 324.445 -171.71M-203.761 119.368C-170.088 85.2503 -150.518 104.565 -116.846 70.4469C-83.1733 36.3288 -102.743 17.0143 -69.0805 -17.0939C-35.4177 -51.2021 -15.8379 -31.8974 17.8347 -66.0154C51.5072 -100.133 31.9371 -119.448 65.6096 -153.566C99.2821 -187.684 118.852 -168.369 152.534 -202.497C186.217 -236.625 166.637 -255.93 200.309 -290.048M40.342 359.595C74.0145 325.477 93.5846 344.792 127.257 310.674C160.93 276.556 141.36 257.241 175.022 223.133C208.685 189.025 228.265 208.329 261.938 174.211C295.61 140.093 276.04 120.779 309.713 86.6607C343.385 52.5427 362.955 71.8572 396.637 37.7294C430.32 3.60159 410.74 -15.7032 444.412 -49.8212M-265.023 60.0616C-231.351 25.9436 -211.781 45.2582 -178.108 11.1401C-144.436 -22.9779 -164.006 -42.2924 -130.343 -76.4006C-96.6801 -110.509 -77.1003 -91.2041 -43.4278 -125.322C-9.75528 -159.44 -29.3254 -178.755 4.34717 -212.873C38.0197 -246.991 57.5898 -227.676 91.272 -261.804C124.954 -295.932 105.374 -315.237 139.047 -349.355M-20.4336 300.694C13.2389 266.576 32.809 285.89 66.4815 251.772C100.154 217.654 80.584 198.34 114.247 164.232C147.91 130.123 167.489 149.428 201.162 115.31C234.835 81.1922 215.264 61.8776 248.937 27.7596C282.609 -6.3584 302.18 12.9562 335.862 -21.1717C369.544 -55.2995 349.964 -74.6043 383.637 -108.722M-144.569 178.342C-110.897 144.223 -91.3267 163.538 -57.6542 129.42C-23.9816 95.3021 -43.5517 75.9875 -9.88889 41.8793C23.7739 7.77108 43.3538 27.0758 77.0263 -7.04217C110.699 -41.1602 91.1287 -60.4747 124.801 -94.5927C158.474 -128.711 178.044 -109.396 211.726 -143.524C245.408 -177.652 225.829 -196.957 259.501 -231.075M99.5335 422.583C133.206 388.465 152.776 407.78 186.449 373.662C220.121 339.544 200.551 320.229 234.214 286.121C267.877 252.013 287.457 271.318 321.129 237.199C354.802 203.081 335.232 183.767 368.904 149.649C402.577 115.531 422.147 134.845 455.829 100.718C489.511 66.5898 469.931 47.285 503.604 13.167M-283.258 38.4903C-249.586 4.37231 -230.016 23.6869 -196.343 -10.4311C-162.671 -44.5491 -182.241 -63.8637 -148.578 -97.9719C-114.915 -132.08 -95.3352 -112.775 -61.6626 -146.893C-27.9901 -181.011 -47.5602 -200.326 -13.8877 -234.444C19.7849 -268.562 39.355 -249.247 73.0372 -283.375C106.719 -317.503 87.1396 -336.808 120.812 -370.926M-38.6686 279.123C-4.99606 245.005 14.574 264.319 48.2466 230.201C81.9191 196.083 62.349 176.769 96.0119 142.66C129.675 108.552 149.254 127.857 182.927 93.739C216.6 59.6209 197.029 40.3064 230.702 6.18837C264.375 -27.9296 283.945 -8.61509 317.627 -42.7429C351.309 -76.8707 331.729 -96.1755 365.402 -130.294M-162.804 156.77C-129.132 122.652 -109.562 141.967 -75.8891 107.849C-42.2166 73.7308 -61.7867 54.4162 -28.1239 20.308C5.53898 -13.8002 25.1188 5.50454 58.7913 -28.6135C92.4639 -62.7315 72.8937 -82.046 106.566 -116.164C140.239 -150.282 159.809 -130.967 193.491 -165.095C227.173 -199.223 207.594 -218.528 241.266 -252.646M81.2988 401.012C114.971 366.894 134.541 386.208 168.214 352.09C201.887 317.972 182.316 298.658 215.979 264.55C249.642 230.441 269.222 249.746 302.894 215.628C336.567 181.51 316.997 162.196 350.669 128.078C384.342 93.9595 403.912 113.274 437.594 79.1462C471.276 45.0184 451.697 25.7137 485.369 -8.40433M-224.067 101.478C-190.394 67.3605 -170.824 86.6751 -137.151 52.557C-103.479 18.439 -123.049 -0.875542 -89.3861 -34.9837C-55.7233 -69.0919 -36.1435 -49.7872 -2.471 -83.9052C31.2015 -118.023 11.6314 -137.338 45.304 -171.456C78.9765 -205.574 98.5466 -186.259 132.229 -220.387C165.911 -254.515 146.331 -273.82 180.004 -307.938M20.0362 341.705C53.7087 307.587 73.2788 326.902 106.951 292.784C140.624 258.666 121.054 239.351 154.717 205.243C188.379 171.135 207.959 190.439 241.632 156.321C275.304 122.203 255.734 102.889 289.407 68.7709C323.079 34.6529 342.649 53.9674 376.332 19.8396C410.014 -14.2882 390.434 -33.593 424.107 -67.711M-103.613 219.758C-69.94 185.64 -50.3699 204.955 -16.6974 170.837C16.9752 136.719 -2.59492 117.404 31.0679 83.2961C64.7308 49.1879 84.3106 68.4927 117.983 34.3747C151.656 0.256662 132.086 -19.0579 165.758 -53.1759C199.431 -87.2939 219.001 -67.9793 252.683 -102.107C286.365 -136.235 266.785 -155.54 300.458 -189.658M140.49 464C174.163 429.882 193.733 449.197 227.405 415.079C261.078 380.961 241.508 361.646 275.171 327.538C308.834 293.43 328.413 312.734 362.086 278.616C395.758 244.498 376.188 225.184 409.861 191.066C443.533 156.948 463.104 176.262 496.786 142.134C530.468 108.007 510.888 88.7019 544.561 54.5839M-154.354 168.684C-120.682 134.566 -101.112 153.881 -67.4392 119.763C-33.7666 85.6447 -53.3367 66.3301 -19.6739 32.2219C13.989 -1.88631 33.5688 17.4185 67.2413 -16.6996C100.914 -50.8176 81.3437 -70.1321 115.016 -104.25C148.689 -138.368 168.259 -119.054 201.941 -153.181C235.623 -187.309 216.044 -206.614 249.716 -240.732M-334 -12.5839C-300.327 -46.7019 -280.757 -27.3873 -247.085 -61.5053C-213.412 -95.6233 -232.982 -114.938 -199.32 -149.046C-165.657 -183.154 -146.077 -163.85 -112.404 -197.968C-78.7319 -232.086 -98.302 -251.4 -64.6295 -285.518C-30.9569 -319.636 -11.3868 -300.322 22.2954 -334.449C55.9776 -368.577 36.3979 -387.882 70.0704 -422M-89.4104 228.048C-55.7378 193.93 -36.1678 213.245 -2.49522 179.127C31.1773 145.009 11.6072 125.694 45.2701 91.5861C78.9329 57.4779 98.5127 76.7827 132.185 42.6646C165.858 8.54663 146.288 -10.7679 179.96 -44.8859C213.633 -79.0039 233.203 -59.6894 266.885 -93.8172C300.567 -127.945 280.987 -147.25 314.66 -181.368M-213.546 109.711C-179.873 75.5929 -160.303 94.9075 -126.631 60.7895C-92.9582 26.6715 -112.528 7.35688 -78.8655 -26.7513C-45.2026 -60.8595 -25.6228 -41.5548 8.04969 -75.6728C41.7222 -109.791 22.1521 -129.105 55.8246 -163.223C89.4972 -197.341 109.067 -178.027 142.749 -212.155C176.432 -246.282 156.852 -265.587 190.524 -299.705M30.557 349.938C64.2296 315.82 83.7997 335.134 117.472 301.016C151.145 266.898 131.575 247.584 165.238 213.475C198.9 179.367 218.48 198.672 252.153 164.554C285.825 130.436 266.255 111.121 299.928 77.0034C333.6 42.8854 353.17 62.2 386.852 28.0721C420.535 -6.05568 400.955 -25.3604 434.627 -59.4784M-274.808 50.4042C-241.136 16.2862 -221.566 35.6008 -187.893 1.48279C-154.221 -32.6352 -173.791 -51.9498 -140.128 -86.058C-106.465 -120.166 -86.8853 -100.861 -53.2128 -134.979C-19.5402 -169.097 -39.1104 -188.412 -5.43783 -222.53C28.2347 -256.648 47.8048 -237.333 81.487 -271.461C115.169 -305.589 95.5895 -324.894 129.262 -359.012M-30.2189 291.036C3.45362 256.918 23.0237 276.233 56.6962 242.115C90.3688 207.997 70.7987 188.682 104.462 154.574C138.124 120.466 157.704 139.771 191.377 105.653C225.049 71.5348 205.479 52.2202 239.152 18.1022C272.824 -16.0158 292.394 3.29876 326.077 -30.8291C359.759 -64.9569 340.179 -84.2616 373.851 -118.38M-311.01 8.02186C-277.338 -26.0961 -257.768 -6.78158 -224.095 -40.8996C-190.423 -75.0176 -209.993 -94.3322 -176.33 -128.44C-142.667 -162.549 -123.087 -143.244 -89.4147 -177.362C-55.7422 -211.48 -75.3123 -230.794 -41.6397 -264.912C-7.96721 -299.03 11.6029 -279.716 45.2851 -313.844C78.9673 -347.972 59.3876 -367.276 93.0601 -401.394M-66.4205 248.654C-32.748 214.536 -13.1779 233.851 20.4947 199.733C54.1672 165.615 34.5971 146.3 68.2599 112.192C101.923 78.0836 121.503 97.3884 155.175 63.2704C188.848 29.1524 169.278 9.83783 202.95 -24.2802C236.623 -58.3982 256.193 -39.0836 289.875 -73.2115C323.557 -107.339 303.977 -126.644 337.65 -160.762M-190.556 126.302C-156.884 92.1837 -137.314 111.498 -103.641 77.3803C-69.9685 43.2623 -89.5386 23.9477 -55.8758 -10.1605C-22.2129 -44.2687 -2.63312 -24.964 31.0394 -59.082C64.7119 -93.2 45.1418 -112.515 78.8144 -146.633C112.487 -180.751 132.057 -161.436 165.739 -195.564C199.421 -229.692 179.842 -248.996 213.514 -283.114M53.5468 370.543C87.2193 336.425 106.789 355.74 140.462 321.622C174.134 287.504 154.564 268.189 188.227 234.081C221.89 199.973 241.47 219.278 275.142 185.16C308.815 151.042 289.245 131.727 322.917 97.6091C356.59 63.4911 376.16 82.8057 409.842 48.6779C443.524 14.5501 423.945 -4.7547 457.617 -38.8727M-251.819 71.0101C-218.146 36.8921 -198.576 56.2066 -164.904 22.0886C-131.231 -12.0294 -150.801 -31.344 -117.138 -65.4522C-83.4754 -99.5604 -63.8956 -80.2556 -30.2231 -114.374C3.44948 -148.492 -16.1206 -167.806 17.5519 -201.924C51.2244 -236.042 70.7945 -216.728 104.477 -250.855C138.159 -284.983 118.579 -304.288 152.252 -338.406M-7.71553 311.237C25.957 277.119 45.5271 296.433 79.1996 262.315C112.872 228.197 93.3021 208.883 126.965 174.774C160.628 140.666 180.208 159.971 213.88 125.853C247.553 91.735 227.982 72.4204 261.655 38.3024C295.328 4.18439 314.898 23.4989 348.58 -10.6289C382.262 -44.7567 362.682 -64.0615 396.355 -98.1795M-131.365 189.29C-97.692 155.172 -78.122 174.487 -44.4494 140.369C-10.7769 106.25 -30.347 86.9359 3.31586 52.8277C36.9787 18.7195 56.5585 38.0242 90.231 3.90624C123.904 -30.2118 104.333 -49.5263 138.006 -83.6443C171.678 -117.762 191.249 -98.4478 224.931 -132.576C258.613 -166.703 239.033 -186.008 272.706 -220.126M112.739 433.531C146.411 399.413 165.981 418.728 199.654 384.61C233.326 350.492 213.756 331.177 247.419 297.069C281.082 262.961 300.662 282.266 334.334 248.148C368.007 214.03 348.437 194.715 382.109 160.597C415.782 126.479 435.352 145.794 469.034 111.666C502.716 77.5381 483.136 58.2334 516.809 24.1154" stroke="white" strokeWidth="0.608324" strokeMiterlimit="10" />
                    </g>
                    <defs>
                        <clipPath id="clip0_681_3284">
                            <rect width="211" height="42" rx="21" transform="matrix(-1 0 0 1 211 0)" fill="white" />
                        </clipPath>
                    </defs>
                </svg>

            </div>

            {isOpen && (
                <div className="absolute z-[100] start-0 mt-2 w-62 bg-white rounded-md shadow-lg">
                    <ul className="py-1">
                        <li>
                            <Link to={userData?.type === 'company' ? "/company_profile" : "/profile"} onClick={() => setIsOpen(false)} className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">
                                View Profile
                            </Link>
                        </li>
                        <li>
                            <Link to="/setting/general-info" onClick={() => setIsOpen(false)} className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">
                                Setting
                            </Link>
                        </li>
                        {(isCompany && window.localStorage.getItem('user') !== null) && <Link to="/company_jobs" className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">Jobs</Link>}

                        {isCompany && <li>
                            <Link to="/old-grantees" onClick={() => setIsOpen(false)} className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">
                                Grantees
                            </Link>
                        </li>}
                        {isCompany && <li>
                            <Link to="/last-subscription" onClick={() => setIsOpen(false)} className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">
                                Subscription
                            </Link>
                        </li>}
                        <li onClick={handleLogout} className="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer">
                            Logout
                        </li>
                    </ul>
                </div>
            )}
        </div>
    );
};

